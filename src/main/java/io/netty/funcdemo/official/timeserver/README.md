## 编写一个时间协议的网络程序

* 在时间协议的网络应用程序中，它将具备：**在不接收到任何请求时，都会响应一个32位长度的int类型的数字并关闭连接**的功能。

* 在这个应用程序中，你将学到：

  - [x] 如何构造并发送数据

  - [x] 如何完成的关闭连接
  
## 为什么会出现数据包碎片化？
* 所谓碎片化的情况：

  ```txt
  假设服务端向客户端发送了大量数据，分别发送了3个数据包，分别为: ABC DEF GHI
  
  但是由于基于流传输的传输协议，比如TCP/IP。它们接收的数据都是存在socket的缓冲区当中的，不幸的是，这个缓冲区不是基于数据包的队列，而是基于字节流的队列。
  那刚刚举的例子来说：服务端向客户端发送了大量数据，发了三个数据包。经过了TCP/IP协议的传输后，客户端拿到的数据可能为：AB CDEFG H I 四个数据包
  
  ```

### 解决方案一(version1包下的代码)

* 特殊业务场景做特殊定制：针对time protocol协议创建一个缓冲区，因为我们知道服务端发来消息时，一般是只有4个字节，那我们就创建一个4个字节的缓冲区，每次读取时就往缓冲区里面塞，当缓冲区数据满了之后，则表示要处理业务逻辑了。

### 解决方案二(version2包下的代码)

* 针对传输数据是可变的协议的情况下，我们应该多个channelHandler来处理，一个channelHandler来处理数据包碎片化的问题，另外一个channelHandler来处理业务逻辑。